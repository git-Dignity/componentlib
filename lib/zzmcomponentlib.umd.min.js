(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["zzmcomponentlib"]=e():t["zzmcomponentlib"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="fb15")}({"001b":function(t,e,i){"use strict";var n=i("4773"),r=i.n(n);r.a},"05f7":function(t,e,i){t.exports=i.p+"img/bean_five.b905dbab.png"},3171:function(t,e,i){},"32c9":function(t,e,i){t.exports=i.p+"img/point_ten.056fbde1.png"},"392c":function(t,e,i){t.exports=i.p+"img/give_up.c8c1c287.png"},4773:function(t,e,i){},"7c35":function(t,e,i){"use strict";var n=i("3171"),r=i.n(n);r.a},8875:function(t,e,i){var n,r,s;(function(i,o){r=[],n=o,s="function"===typeof n?n.apply(e,r):n,void 0===s||(t.exports=s)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var i,n,r,s=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,o=/@([^@]*):(\d+):(\d+)\s*$/gi,a=s.exec(f.stack)||o.exec(f.stack),c=a&&a[1]||!1,u=a&&a[2]||!1,l=document.location.href.replace(document.location.hash,""),d=document.getElementsByTagName("script");c===l&&(i=document.documentElement.outerHTML,n=new RegExp("(?:[^\\n]+?\\n){0,"+(u-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=i.replace(n,"$1").trim());for(var p=0;p<d.length;p++){if("interactive"===d[p].readyState)return d[p];if(d[p].src===c)return d[p];if(c===l&&d[p].innerHTML&&d[p].innerHTML.trim()===r)return d[p]}return null}}return t}))},9639:function(t,e,i){t.exports=i.p+"img/bean_one.84279a9a.png"},c765:function(t,e,i){t.exports=i.p+"img/bean_500.6732d3b0.png"},e125:function(t,e,i){t.exports=i.p+"img/point_five.31fb23b0.png"},fb15:function(t,e,i){"use strict";if(i.r(e),"undefined"!==typeof window){var n=window.document.currentScript,r=i("8875");n=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r});var s=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);s&&(i.p=s[1])}var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"btn",class:[{btnClick:t.loadingBtn},t.btnSize],style:t.typeBtn,on:{mouseover:t.itemHover,mouseout:t.removeHover,click:t.clickBtn}},[t._t("default",[t._v("按钮")])],2)])},a=[],c={name:"zzm-btn",props:{loading:Boolean,type:String,size:String},data(){return{loadingBtn:this.loading,typeBtn:{background:"#409EFF"},btnSize:"btnSize",sss:"aaa"}},watch:{loading(t){this.loadingBtn=t},type(t){this.type=t,this.initBtnType()},size(t){this.size=t,this.initBtnSize()}},methods:{init(){this.initBtnType(),this.initBtnSize()},initBtnType(){switch(this.type){case"primary":this.typeBtn.background="#409EFF";break;case"success":this.typeBtn.background="#67C23A";break;case"info":this.typeBtn.background="#909399";break;case"warning":this.typeBtn.background="#e6a23c";break;case"danger":this.typeBtn.background="#f56c6c";break;default:this.typeBtn.background="#409EFF"}},initBtnSize(){switch(this.size){case"medium":this.btnSize="btnSize-medium";break;case"small":this.btnSize="btnSize-small";break;case"mini":this.btnSize="btnSize-mini";break;default:this.btnSize="btnSize"}},initBtnHoverType(){switch(this.type){case"primary":this.typeBtn.background="#66b1ff";break;case"success":this.typeBtn.background="#85ce61";break;case"info":this.typeBtn.background="#a6a9ad";break;case"warning":this.typeBtn.background="#ebb563";break;case"danger":this.typeBtn.background="#f78989";break;default:this.typeBtn.background="#409EFF"}},itemHover(){this.initBtnHoverType()},removeHover(){this.initBtnType()},clickBtn(){this.$emit("click",!0)}},mounted(){this.init()}},u=c;i("7c35");function l(t,e,i,n,r,s,o,a){var c,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=i,u._compiled=!0),n&&(u.functional=!0),s&&(u._scopeId="data-v-"+s),o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=c):r&&(c=a?function(){r.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:u}}var d=l(u,o,a,!1,null,"1244dd48",null),p=d.exports;p.install=function(t){t.component(p.name,p)};var f=p,h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"wheel-main"},[i("div",{staticClass:"wheel-pointer",on:{click:function(e){return t.beginRotate()}}}),i("canvas",{style:t.rotateBgStyle,attrs:{width:"600",height:"400",id:"canvas_bg"}}),i("div",{staticClass:"wheel-bg",style:t.rotateStyle},[i("div",{staticClass:"prize-list"},t._l(t.prizeList,(function(e,n){return i("div",{key:n,staticClass:"prize-item",style:e.style},[i("div",{staticClass:"prize-pic"},[i("img",{attrs:{src:e.icon}})]),i("div",{staticClass:"prize-type"},[t._v(t._s(e.name))])])})),0)])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.prize,expression:"prize"}],staticClass:"toast"},[i("div",{staticClass:"toast-container"},[i("div",{staticClass:"toast-picture",class:t.prize&&1===t.prize.isPrize?"congratulation-img":"sorry-img"}),i("div",{staticClass:"close",on:{click:function(e){return t.closeToast()}}}),i("div",{staticClass:"toast-title"},[t._v(t._s(t.toastTitle))]),i("div",{staticClass:"toast-btn"},[i("div",{staticClass:"toast-cancel",on:{click:t.closeToast}},[t._v("关闭")])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.prize,expression:"prize"}],staticClass:"toast-mask"})])},m=[];const g=[{icon:i("c765"),name:"鱼香茄子",isPrize:1},{icon:i("05f7"),name:"手撕鸡",isPrize:1},{icon:i("9639"),name:"可乐鸡翅",isPrize:1},{icon:i("e125"),name:"奖品4",isPrize:1},{icon:i("32c9"),name:"奖品5",isPrize:1},{icon:i("c765"),name:"奖品6",isPrize:1},{icon:i("392c"),name:"奖品7",isPrize:0},{icon:i("c765"),name:"奖品8",isPrize:1}],b=360,v={duration:4e3,circle:8,mode:"ease-in-out"};var y={name:"zzm-turntable",props:{prizeListProp:{type:Array,default:()=>g},countProp:{type:Number,default:3}},data(){return{count:this.countProp,duration:3e3,prizeList:[],rotateAngle:0,index:0,prize:null}},created(){this.angleList=[],this.isRotating=!1,this.config=v,this.initPrizeList()},computed:{rotateStyle(){return`\n        -webkit-transition: transform ${this.config.duration}ms ${this.config.mode};\n        transition: transform ${this.config.duration}ms ${this.config.mode};\n        -webkit-transform: rotate(${this.rotateAngle}deg);\n            transform: rotate(${this.rotateAngle}deg);`},rotateBgStyle(){return`\n        -webkit-transition: transform ${this.config.duration}ms ${this.config.mode};\n        transition: transform ${this.config.duration}ms ${this.config.mode};\n        -webkit-transform: rotate(${this.rotateAngle-5.5*this.prizeList.length}deg);\n            transform: rotate(${this.rotateAngle-5.5*this.prizeList.length}deg);`},toastTitle(){return this.prize&&1===this.prize.isPrize?"恭喜您，获得"+this.prize.name:"未中奖"}},watch:{},methods:{initPrizeList(){this.prizeList=this.formatPrizeList(this.prizeListProp)},initCanvas(){for(var t=document.querySelector("canvas"),e=t.getContext("2d"),i=e.canvas.width,n=e.canvas.height,r=this.prizeList.length,s=2*Math.PI/r,o=i/2,a=n/2,c=function(){var t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),i=Math.floor(256*Math.random());return"rgb("+t+","+e+","+i+")"},u=this.prizeList.length-1,l=0;l<r;l++){var d=l*s,p=(l+1)*s;e.beginPath(),e.moveTo(o,a),e.arc(o,a,150,d,p),l===r-1?e.fillStyle=this.prizeList[l].color?this.prizeList[r-1].color:c():(u--,e.fillStyle=this.prizeList[l].color?this.prizeList[u].color:c()),e.fill()}},formatPrizeList(t){const e=[],i=t.length,n=b/i,r=n/2;return t.forEach((t,i)=>{const s=-(i*n+r);t.style=`-webkit-transform: rotate(${s}deg);\n                      transform: rotate(${s}deg);`,e.push(i*n+r)}),this.angleList=e,t},beginRotate(){0!==this.count&&(this.index=this.random(this.prizeList.length-1),this.count--,this.rotating())},random(t,e=0){return parseInt(Math.random()*(t-e+1)+e)},rotating(){const{isRotating:t,angleList:e,config:i,rotateAngle:n,index:r}=this;if(t)return;this.isRotating=!0;const s=n+i.circle*b+e[r]-n%b;this.rotateAngle=s,setTimeout(()=>{this.rotateOver()},i.duration+1e3)},rotateOver(){this.isRotating=!1,this.prize=this.prizeListProp[this.index],this.$emit("draw",[this.prize,this.count])},closeToast(){this.prize=null}},mounted(){this.initCanvas()}},z=y,k=(i("001b"),l(z,h,m,!1,null,"944be45c",null)),S=k.exports;S.install=function(t){t.component(S.name,S)};var _=S;const w=[f,_],B=function(t){B.installed||w.map(e=>t.component(e.name,e))};"undefined"!==typeof window&&window.Vue&&B(window.Vue);var x={install:B,zzmButton:f,zzmTurntable:_};e["default"]=x}})}));
//# sourceMappingURL=zzmcomponentlib.umd.min.js.map